<!--Title-->
<h2 class="rc-main-title">System design</h2>

<div fxLayout="row column" fxLayoutAlign="center" fxLayoutGap="20">
  <div fxFlex="30" fxLayout="column" fxLayoutAlign="center stretch" fxFlex.xs="100" fxFlex.sm="70" fxFlex.md="30" fxLayoutGap="20">
    <!-- select spesific option  -->
    <mat-label class="rc-indications">Select the combination.</mat-label>
    <form  [formGroup]="systemDesignForm" class="rc-form">
      <!-- Outdoor unit -->
      <mat-form-field appearance="fill">
        <mat-label>Outdoor unit type:</mat-label>
        <mat-select #sGroup formControlName="outdoorUnitType" (selectionChange)="submitInputs()">
          <mat-option *ngFor ="let outdoor of outdoors" value="{{outdoor.value}}" radioGroup="sGroup">
            {{outdoor.showUser}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <br>
  
      <!-- Indoor unit -->
      <mat-form-field appearance="fill">
        <mat-label>Indoor unit type:</mat-label>
        <mat-select #sGroup formControlName="indoorUnitType" (selectionChange)="selectIndoor()">
          <mat-option *ngFor ="let indoor of indoors" value="{{indoor.value}}" radioGroup="sGroup">
            {{indoor.showUser}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <br> 
  
      <!-- Furnace type -->
      <mat-form-field appearance="fill">
        <mat-label>Furnace type:</mat-label>
        <mat-select  formControlName="furnaceType" (selectionChange)="submitInputs()">
          <mat-option *ngFor ="let furnaceType of furnacesType" value="{{furnaceType.value}}" >
            {{furnaceType.showUser}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <br>
  
      <!-- Furnace configuration -->
      <mat-form-field appearance="fill">
        <mat-label>Furnace configuration:</mat-label>
        <mat-select #sGroup formControlName="furnaceConfiguration" (selectionChange)="submitInputs()">
          <mat-option *ngFor ="let furnaceConfiguration of furnacesConfiguration" value="{{furnaceConfiguration.value}}" radioGroup="sGroup">
            {{furnaceConfiguration.showUser}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <br>
  
      <!-- number of zones -->
      <div *ngIf="showNrbZones">
        <br>
        <mat-label>Select number of zones</mat-label>
        <br>
        <mat-radio-group formControlName="numberZones" (change)="NumberZones()" aria-label="Select an option"  >
          <mat-radio-button value="Multi-zone"> Multi-zone </mat-radio-button>
          <br>
          <mat-radio-button  value="Single zone"> Single zone</mat-radio-button>
        </mat-radio-group>
      </div>
    </form>
  </div>
  <form *ngIf="showTable" [formGroup]="msMultiZoneType" fxFlex="65" fxFlex.xs="100" fxFlex.sm="70" fxFlex.md="65" fxLayoutGap="20">
    <table>
      <thead>
        <tr>
          <th >Quantity</th>
          <th >Unit type</th>
          <th>size</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <!-- rows added -->
        <tr  *ngFor="let pl of payload; index as i">
          <td>{{pl.qty}}</td>
          <td>{{pl.unitType}}</td>
          <td>{{pl.size | number}}</td>
          <td>
            <button  (click)="DeleteRow(i+1)" mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
              <mat-icon>restore_from_trash</mat-icon>
            </button>
          </td>
        </tr>
        <!-- row to add  -->
        <tr>
          <td data-title="QTY">
            <mat-form-field appearance="fill">
              <mat-label>Select</mat-label>
              <mat-select #sGroup formControlName="quantity" (selectionChange)="ShowButtons()">
                <mat-option *ngFor ="let qty of quantity" [value]="qty" radioGroup="sGroup">
                  {{qty}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </td>
          <td data-title="Unit Type">
            <mat-form-field appearance="fill">
              <mat-label>Select</mat-label>
              <mat-select formControlName="unitType" (selectionChange)="ShowButtons()">
                <mat-option *ngFor ="let unitType of msUnits" [value]="unitType.value">
                  {{unitType.showUser}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </td>
          <td data-title="Size">
            <mat-form-field appearance="fill">
              <mat-label>Select</mat-label>
              <mat-select formControlName="size" (selectionChange)="ShowButtons()">
                <mat-option *ngFor ="let sizeOption of sizeOptions"  [value]="sizeOption">
                  {{sizeOption | number}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </td>
          <td>
            <button *ngIf="showButtonAdd" (click)="AddRow()"  mat-mini-fab color="primary" aria-label="Example icon button with a menu icon">
              <mat-icon>check_circle</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</div>